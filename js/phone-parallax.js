"use strict";// Import necessary styles
var style=document.createElement("link");style.setAttribute("rel","stylesheet"),style.setAttribute("href","css/phone-parallax.css"),style.setAttribute("media","(max-width: 900px)"),document.head.appendChild(style),function(){function a(){var a=document.querySelectorAll(".hero-image.l1");a.forEach(function(a){var b=a.closest("section"),e=document.createElement("button");e.classList.add("phone-parallax-btn"),e.innerHTML="<span class=\"btn-dot\"></span> Powi\u0119ksz obraz",e.setAttribute("data-section",b.id),e.addEventListener("click",function(a){if(!window.AppState.parallaxEnabled){if(window.AppState.openedOverlay)return void console.warn("Trying to open an overlay while one's already open",window.AppState.openedOverlay);var b=f.content.cloneNode(!0);document.body.appendChild(b);var e=document.querySelector("#phone-parallax-overlay"),g=a.target.getAttribute("data-section");e.classList.add("closed",g);var h=e.querySelector("#ppo-close-btn");h.addEventListener("click",function(){d(),window.AppState.openedOverlay&&(window.AppState.openedOverlay=null,history.back()),e.addEventListener("transitionend",function(){return e.remove()}),e.classList.add("closed")}),window.AppState.openedOverlay=h,doubleRAF(function(){return e.classList.remove("closed")}),c(),history.pushState({},document.title,"?picture=".concat(g))}}),a.appendChild(e)}),f=document.createElement("template"),f.innerHTML="\n      <div id=\"phone-parallax-overlay\">\n        <div class=\"parallax\">\n          <div class=\"l3\"></div>\n          <div class=\"l2\"></div>\n          <div class=\"l1\"></div>\n        </div>\n        <div id=\"ppo-close-btn\">X</div>\n      </div>\n    ",document.body.appendChild(f)}// Turn on buttons to expand images when sure that device supports motion
function b(a){var b=a.alpha,c=a.beta,d=a.gamma;return l.isSet?void(// Normalize values
90<c&&(c=90),-90>c&&(c=-90),m={alpha:b,beta:c,gamma:d}):(l={alpha:b,beta:c,gamma:d},void(l.isSet=!0))}function c(){n=!0,l.isSet=!1,"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",b):(console.warn("Mobile parallax might not work correctly - units don't have to be absolute!"),window.addEventListener("deviceorientation",b)),requestAnimationFrame(function a(){var b=m,c=b.alpha,d=b.beta,e=b.gamma;// Normalize values
90<d&&(d=90),-90>d&&(d=-90);// We need to swap x with y in landscape, because values are relative to portrait
var f=(screen.msOrientation||screen.mozOrientation||screen.orientation||{}).type,g="landscape-primary"==f||"landscape-secondary"==f,h=g?l.beta-d:l.gamma-e,i=g?l.gamma-e:l.beta-d,j=document.querySelector("#phone-parallax-overlay .l1"),k=document.querySelector("#phone-parallax-overlay .l2"),o=document.querySelector("#phone-parallax-overlay .l3");j.style.transform="translate(".concat(.2*h,"px, ").concat(.2*i,"px)"),k.style.transform="translate(".concat(.6*h,"px, ").concat(.6*i,"px)"),o.style.transform="translate(".concat(h,"px, ").concat(i,"px)"),n&&requestAnimationFrame(a)})}function d(){n=!1,"DeviceOrientationAbsoluteEvent"in window?window.removeEventListener("deviceorientationabsolute",b):window.removeEventListener("deviceorientation",b)}// Setup for mobile parallax
var f,g,h,i,j=!1,k=function(b){var c=b.alpha,d=b.beta,e=b.gamma;return j&&(c!=g||d!=h||e!=i)?(a(),void window.removeEventListener("DeviceOrientationAbsoluteEvent"in window?deviceorientationabsolute:"deviceorientation",k)):void(!j&&(g=c,h=d,i=e,j=!0))};"DeviceOrientationAbsoluteEvent"in window?window.addEventListener("deviceorientationabsolute",k):window.addEventListener("deviceorientation",k);// Actually handle the effect
var l={},m={},n=!1}();